<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Purwadhika Commerce</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
</head>

<body>

  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <nav class="navbar navbar-light bg-light">
          <a class="navbar-brand">PurwadhikaCommerce</a>
          <form class="form-inline">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
          </form>
          <button type="button" class="btn btn-success">
            Cart <span class="badge badge-light">9</span>
            <span class="sr-only">unread messages</span>
          </button>
        </nav>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img class="d-block w-100" src="https://placehold.it/800x400" alt="First slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="https://placehold.it/800x400" alt="Second slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="https://placehold.it/800x400" alt="Third slide">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <ul class="nav nav-tabs flex-column flex-sm-row"" id=" myTab" role="tablist">
          <li class="nav-item flex-sm-fill">
            <a class="nav-link" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
              aria-selected="true">Home</a>
          </li>
          <li class="nav-item flex-sm-fill">
            <a class="nav-link active" id="products-tab" data-toggle="tab" href="#products" role="tab" aria-controls="products"
              aria-selected="false">Products</a>
          </li>
          <li class="nav-item flex-sm-fill">
            <a class="nav-link" id="categories-tab" data-toggle="tab" href="#categories" role="tab" aria-controls="categories"
              aria-selected="false">Categories</a>
          </li>
          <li class="nav-item flex-sm-fill">
            <a class="nav-link" id="promos-tab" data-toggle="tab" href="#promos" role="tab" aria-controls="promos"
              aria-selected="false">Promos</a>
          </li>
        </ul>
        <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade" id="home" role="tabpanel" aria-labelledby="home-tab">
            <h1>Home</h1>
          </div>
          <div class="tab-pane fade show active" id="products" role="tabpanel" aria-labelledby="products-tab">
            <h1>Products</h1>
            <hr>
            <div class="row">
              <div class="col-sm-4 sidebar">
                <h3>Kategori</h3>
                <div>
                  <input type="checkbox"> Laptop <br>
                  <input type="checkbox"> Handphone <br>
                  <input type="checkbox"> Komputer <br>
                </div>
                <hr>
                <h3>Filter</h3>
                <hr>
                <h3>Sort</h3>
              </div>
              <div class="col-sm-8 main-products">
                <div class="row">
                </div>
              </div>
            </div>

          </div>
          <div class="tab-pane fade" id="categories" role="tabpanel" aria-labelledby="categories-tab">
            <h1>Categories</h1>
          </div>
          <div class="tab-pane fade" id="promos" role="tabpanel" aria-labelledby="promos-tab">
            <h1>Promos</h1>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    $(document).ready(() => {
      $.get("http://localhost:5004/products.json").then(
        data => {
          console.log(data.data)
          data.data.forEach(product => {
            productString = `<div class="card product" style="width: 12rem;">
<img class="card-img-top product-image" src="${product.image}" alt="Card image cap">
<div class="card-body">
  <h5 class="card-title product-name">${product.name}</h5>
  <div><span class="badge badge-danger">Diskon ${Math.abs((parseInt(product.discountedPrice) - parseInt(product.price)) / parseInt(product.price) * 100)}%</span></div>
  <div><span class="product-price">${parseInt(product.price).toFixed(2).replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,")}</span> 
  <span class="product-discounted-price">${parseInt(product.discountedPrice).toFixed(2).replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,")}</span></div>
  <p class="card-text product-description">${product.description}</p>
  <a href="#" class="btn btn-primary">Add to cart</a>
</div>
</div>`
            $('.main-products .row').append(productString)
          })
        })
    })
  </script>
</body>

</html>